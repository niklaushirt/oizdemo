apiVersion: tekton.dev/v1beta1
kind: TaskRun
metadata:
  name: test-task-run
spec:
  serviceAccountName: oiz-demo-service-account
  taskRef:
    name: deploy-using-kubectl
  resources:
    inputs:
      - name: kubernetes-source
        resourceRef:
          name: oiz-demo-git
      - name: image
        resourceRef:
          name: oiz-demo-image-leeroy-web
  params:
    - name: path
      value: /workspace/kubernetes-source/deploy/prod #configure: may change according to your source
    - name: yamlPathToImage
      value: "spec.template.spec.containers[0].image"